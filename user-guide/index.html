
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="Python library and CLI for programmatic interface for HomeBudget local Windows installation">
      
      
        <meta name="author" content="Taylor Hickem">
      
      
      
        <link rel="prev" href="..">
      
      
        <link rel="next" href="../configuration/">
      
      
        
      
      
      <link rel="icon" href="../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.7.2">
    
    
      
        <title>Comprehensive Guide - HomeBudget Python Wrapper</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/main.484c7ddc.min.css">
      
        
        <link rel="stylesheet" href="../assets/stylesheets/palette.ab4e12ef.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
    <script>__md_scope=new URL("..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="indigo">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#homebudget-comprehensive-guide" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
      <div data-md-color-scheme="default" data-md-component="outdated" hidden>
        
      </div>
    
    
      

  

<header class="md-header md-header--shadow md-header--lifted" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href=".." title="HomeBudget Python Wrapper" class="md-header__button md-logo" aria-label="HomeBudget Python Wrapper" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            HomeBudget Python Wrapper
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Comprehensive Guide
            
          </span>
        </div>
      </div>
    </div>
    
      
        <form class="md-header__option" data-md-component="palette">
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme: light)" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="indigo"  aria-label="Switch to dark mode"  type="radio" name="__palette" id="__palette_0">
    
      <label class="md-header__button md-icon" title="Switch to dark mode" for="__palette_1" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a4 4 0 0 0-4 4 4 4 0 0 0 4 4 4 4 0 0 0 4-4 4 4 0 0 0-4-4m0 10a6 6 0 0 1-6-6 6 6 0 0 1 6-6 6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12z"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme: dark)" data-md-color-scheme="slate" data-md-color-primary="indigo" data-md-color-accent="indigo"  aria-label="Switch to light mode"  type="radio" name="__palette" id="__palette_1">
    
      <label class="md-header__button md-icon" title="Switch to light mode" for="__palette_0" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 18c-.89 0-1.74-.2-2.5-.55C11.56 16.5 13 14.42 13 12s-1.44-4.5-3.5-5.45C10.26 6.2 11.11 6 12 6a6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12z"/></svg>
      </label>
    
  
</form>
      
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      
      
        <label class="md-header__button md-icon" for="__search">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        </label>
        <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
        <div class="md-search__suggest" data-md-component="search-suggest"></div>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
      
    
    
      <div class="md-header__source">
        <a href="https://github.com/yayfalafels/homebudget" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M439.6 236.1 244 40.5c-5.4-5.5-12.8-8.5-20.4-8.5s-15 3-20.4 8.4L162.5 81l51.5 51.5c27.1-9.1 52.7 16.8 43.4 43.7l49.7 49.7c34.2-11.8 61.2 31 35.5 56.7-26.5 26.5-70.2-2.9-56-37.3L240.3 199v121.9c25.3 12.5 22.3 41.8 9.1 55-6.4 6.4-15.2 10.1-24.3 10.1s-17.8-3.6-24.3-10.1c-17.6-17.6-11.1-46.9 11.2-56v-123c-20.8-8.5-24.6-30.7-18.6-45L142.6 101 8.5 235.1C3 240.6 0 247.9 0 255.5s3 15 8.5 20.4l195.6 195.7c5.4 5.4 12.7 8.4 20.4 8.4s15-3 20.4-8.4l194.7-194.7c5.4-5.4 8.4-12.8 8.4-20.4s-3-15-8.4-20.4"/></svg>
  </div>
  <div class="md-source__repository">
    yayfalafels/homebudget
  </div>
</a>
      </div>
    
  </nav>
  
    
      
<nav class="md-tabs" aria-label="Tabs" data-md-component="tabs">
  <div class="md-grid">
    <ul class="md-tabs__list">
      
        
  
  
  
  
    <li class="md-tabs__item">
      <a href=".." class="md-tabs__link">
        
  
  
    
  
  Home

      </a>
    </li>
  

      
        
  
  
  
    
  
  
    
    
      <li class="md-tabs__item md-tabs__item--active">
        <a href="./" class="md-tabs__link">
          
  
  
  Guides

        </a>
      </li>
    
  

      
        
  
  
  
  
    <li class="md-tabs__item">
      <a href="../methods/" class="md-tabs__link">
        
  
  
    
  
  Methods

      </a>
    </li>
  

      
        
  
  
  
  
    <li class="md-tabs__item">
      <a href="../cli-guide/" class="md-tabs__link">
        
  
  
    
  
  CLI

      </a>
    </li>
  

      
        
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../developer-guide/" class="md-tabs__link">
          
  
  
  Development

        </a>
      </li>
    
  

      
        
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../design/" class="md-tabs__link">
          
  
  
  Technical Design

        </a>
      </li>
    
  

      
        
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../test-guide/" class="md-tabs__link">
          
  
  
  Testing

        </a>
      </li>
    
  

      
        
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../workflow/" class="md-tabs__link">
          
  
  
  Implementation Example

        </a>
      </li>
    
  

      
        
  
  
  
  
    <li class="md-tabs__item">
      <a href="../issues/" class="md-tabs__link">
        
  
  
    
  
  Issues

      </a>
    </li>
  

      
    </ul>
  </div>
</nav>
    
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


  


<nav class="md-nav md-nav--primary md-nav--lifted" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href=".." title="HomeBudget Python Wrapper" class="md-nav__button md-logo" aria-label="HomeBudget Python Wrapper" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    HomeBudget Python Wrapper
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/yayfalafels/homebudget" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M439.6 236.1 244 40.5c-5.4-5.5-12.8-8.5-20.4-8.5s-15 3-20.4 8.4L162.5 81l51.5 51.5c27.1-9.1 52.7 16.8 43.4 43.7l49.7 49.7c34.2-11.8 61.2 31 35.5 56.7-26.5 26.5-70.2-2.9-56-37.3L240.3 199v121.9c25.3 12.5 22.3 41.8 9.1 55-6.4 6.4-15.2 10.1-24.3 10.1s-17.8-3.6-24.3-10.1c-17.6-17.6-11.1-46.9 11.2-56v-123c-20.8-8.5-24.6-30.7-18.6-45L142.6 101 8.5 235.1C3 240.6 0 247.9 0 255.5s3 15 8.5 20.4l195.6 195.7c5.4 5.4 12.7 8.4 20.4 8.4s15-3 20.4-8.4l194.7-194.7c5.4-5.4 8.4-12.8 8.4-20.4s-3-15-8.4-20.4"/></svg>
  </div>
  <div class="md-source__repository">
    yayfalafels/homebudget
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href=".." class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Home
  

    
  </span>
  
  

      </a>
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
    
    
      
        
        
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2" checked>
        
          
          <label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="">
            
  
  
  <span class="md-ellipsis">
    
  
    Guides
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_2">
            <span class="md-nav__icon md-icon"></span>
            
  
    Guides
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  
  <span class="md-ellipsis">
    
  
    Comprehensive Guide
  

    
  </span>
  
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  
  <span class="md-ellipsis">
    
  
    Comprehensive Guide
  

    
  </span>
  
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#table-of-contents" class="md-nav__link">
    <span class="md-ellipsis">
      
        Table of contents
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#getting-started" class="md-nav__link">
    <span class="md-ellipsis">
      
        Getting started
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#installation" class="md-nav__link">
    <span class="md-ellipsis">
      
        Installation
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#configuration" class="md-nav__link">
    <span class="md-ellipsis">
      
        Configuration
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#basic-usage" class="md-nav__link">
    <span class="md-ellipsis">
      
        Basic usage
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#entry-points" class="md-nav__link">
    <span class="md-ellipsis">
      
        Entry points
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#sync-behavior" class="md-nav__link">
    <span class="md-ellipsis">
      
        Sync behavior
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#forex-input-rules" class="md-nav__link">
    <span class="md-ellipsis">
      
        Forex input rules
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Forex input rules">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#currency-matching-constraints" class="md-nav__link">
    <span class="md-ellipsis">
      
        Currency matching constraints
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ui-control-automatic" class="md-nav__link">
    <span class="md-ellipsis">
      
        UI Control (Automatic)
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#feature-mapping" class="md-nav__link">
    <span class="md-ellipsis">
      
        Feature mapping
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#working-with-expenses" class="md-nav__link">
    <span class="md-ellipsis">
      
        Working with expenses
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#working-with-income" class="md-nav__link">
    <span class="md-ellipsis">
      
        Working with income
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#working-with-transfers" class="md-nav__link">
    <span class="md-ellipsis">
      
        Working with transfers
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Working with transfers">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#currency-normalization-layer" class="md-nav__link">
    <span class="md-ellipsis">
      
        Currency Normalization Layer
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#basic-transfer-examples" class="md-nav__link">
    <span class="md-ellipsis">
      
        Basic Transfer Examples
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#cli-transfer-examples" class="md-nav__link">
    <span class="md-ellipsis">
      
        CLI Transfer Examples
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#batch-operations" class="md-nav__link">
    <span class="md-ellipsis">
      
        Batch operations
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Batch operations">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#batch-behavior" class="md-nav__link">
    <span class="md-ellipsis">
      
        Batch behavior
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#csv-format" class="md-nav__link">
    <span class="md-ellipsis">
      
        CSV format
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#json-format" class="md-nav__link">
    <span class="md-ellipsis">
      
        JSON format
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#mixed-operation-json-format" class="md-nav__link">
    <span class="md-ellipsis">
      
        Mixed operation JSON format
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#methods-usage" class="md-nav__link">
    <span class="md-ellipsis">
      
        Methods usage
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#cli-usage" class="md-nav__link">
    <span class="md-ellipsis">
      
        CLI usage
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#batch-result-output" class="md-nav__link">
    <span class="md-ellipsis">
      
        Batch result output
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#troubleshooting" class="md-nav__link">
    <span class="md-ellipsis">
      
        Troubleshooting
      
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../configuration/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Configuration
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../dependencies/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Dependencies
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../methods/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Methods
  

    
  </span>
  
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../cli-guide/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    CLI
  

    
  </span>
  
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_5" >
        
          
          <label class="md-nav__link" for="__nav_5" id="__nav_5_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Development
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5">
            <span class="md-nav__icon md-icon"></span>
            
  
    Development
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../developer-guide/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Developer Guide
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../repository-layout/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Repository Layout
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_6" >
        
          
          <label class="md-nav__link" for="__nav_6" id="__nav_6_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Technical Design
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_6_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_6">
            <span class="md-nav__icon md-icon"></span>
            
  
    Technical Design
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../design/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Design Overview
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../sqlite-schema/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    SQLite Schema
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../sync-update/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Sync Updates
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../forex-rates/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Forex Rates
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../transfer-currency-normalization/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Transfer Currency Normalization
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_7" >
        
          
          <label class="md-nav__link" for="__nav_7" id="__nav_7_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Testing
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_7_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_7">
            <span class="md-nav__icon md-icon"></span>
            
  
    Testing
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../test-guide/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Test Guide
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../test-strategy/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Test Strategy
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../test-cases/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Test Cases
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../tests/TRANSFER_TEST_CASES/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Transfer Test Cases
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../tests/BATCH_TRANSFER_TEST_CASES/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Batch Transfer Test Cases
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../tests/feature_5.1_expense_crud/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Expense CRUD Tests
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../tests/feature_5.3_transfer_crud/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Transfer CRUD Tests
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../tests/sync_validation_procedure/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Sync Validation Procedure
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_8" >
        
          
          <label class="md-nav__link" for="__nav_8" id="__nav_8_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Implementation Example
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_8_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_8">
            <span class="md-nav__icon md-icon"></span>
            
  
    Implementation Example
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../workflow/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Workflow
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../issues/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Issues
  

    
  </span>
  
  

      </a>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#table-of-contents" class="md-nav__link">
    <span class="md-ellipsis">
      
        Table of contents
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#getting-started" class="md-nav__link">
    <span class="md-ellipsis">
      
        Getting started
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#installation" class="md-nav__link">
    <span class="md-ellipsis">
      
        Installation
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#configuration" class="md-nav__link">
    <span class="md-ellipsis">
      
        Configuration
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#basic-usage" class="md-nav__link">
    <span class="md-ellipsis">
      
        Basic usage
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#entry-points" class="md-nav__link">
    <span class="md-ellipsis">
      
        Entry points
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#sync-behavior" class="md-nav__link">
    <span class="md-ellipsis">
      
        Sync behavior
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#forex-input-rules" class="md-nav__link">
    <span class="md-ellipsis">
      
        Forex input rules
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Forex input rules">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#currency-matching-constraints" class="md-nav__link">
    <span class="md-ellipsis">
      
        Currency matching constraints
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ui-control-automatic" class="md-nav__link">
    <span class="md-ellipsis">
      
        UI Control (Automatic)
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#feature-mapping" class="md-nav__link">
    <span class="md-ellipsis">
      
        Feature mapping
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#working-with-expenses" class="md-nav__link">
    <span class="md-ellipsis">
      
        Working with expenses
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#working-with-income" class="md-nav__link">
    <span class="md-ellipsis">
      
        Working with income
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#working-with-transfers" class="md-nav__link">
    <span class="md-ellipsis">
      
        Working with transfers
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Working with transfers">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#currency-normalization-layer" class="md-nav__link">
    <span class="md-ellipsis">
      
        Currency Normalization Layer
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#basic-transfer-examples" class="md-nav__link">
    <span class="md-ellipsis">
      
        Basic Transfer Examples
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#cli-transfer-examples" class="md-nav__link">
    <span class="md-ellipsis">
      
        CLI Transfer Examples
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#batch-operations" class="md-nav__link">
    <span class="md-ellipsis">
      
        Batch operations
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Batch operations">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#batch-behavior" class="md-nav__link">
    <span class="md-ellipsis">
      
        Batch behavior
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#csv-format" class="md-nav__link">
    <span class="md-ellipsis">
      
        CSV format
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#json-format" class="md-nav__link">
    <span class="md-ellipsis">
      
        JSON format
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#mixed-operation-json-format" class="md-nav__link">
    <span class="md-ellipsis">
      
        Mixed operation JSON format
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#methods-usage" class="md-nav__link">
    <span class="md-ellipsis">
      
        Methods usage
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#cli-usage" class="md-nav__link">
    <span class="md-ellipsis">
      
        CLI usage
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#batch-result-output" class="md-nav__link">
    <span class="md-ellipsis">
      
        Batch result output
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#troubleshooting" class="md-nav__link">
    <span class="md-ellipsis">
      
        Troubleshooting
      
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              
                



  


  <nav class="md-path" aria-label="Navigation" >
    <ol class="md-path__list">
      
        
  
  
    <li class="md-path__item">
      <a href=".." class="md-path__link">
        
  <span class="md-ellipsis">
    Home
  </span>

      </a>
    </li>
  

      
      
        
  
  
    
    
      <li class="md-path__item">
        <a href="./" class="md-path__link">
          
  <span class="md-ellipsis">
    Guides
  </span>

        </a>
      </li>
    
  

      
    </ol>
  </nav>

              
              <article class="md-content__inner md-typeset">
                
                  


  
  


<h1 id="homebudget-comprehensive-guide">HomeBudget comprehensive guide<a class="headerlink" href="#homebudget-comprehensive-guide" title="Permanent link">&para;</a></h1>
<h2 id="table-of-contents">Table of contents<a class="headerlink" href="#table-of-contents" title="Permanent link">&para;</a></h2>
<ul>
<li><a href="#getting-started">Getting started</a></li>
<li><a href="#installation">Installation</a></li>
<li><a href="#configuration">Configuration</a></li>
<li><a href="#basic-usage">Basic usage</a></li>
<li><a href="#entry-points">Entry points</a></li>
<li><a href="#forex-input-rules">Forex input rules</a></li>
<li>
<p><a href="#currency-matching-constraints">Currency matching constraints</a></p>
</li>
<li>
<p><a href="#feature-mapping">Feature mapping</a></p>
</li>
<li><a href="#working-with-expenses">Working with expenses</a></li>
<li><a href="#working-with-income">Working with income</a></li>
<li><a href="#working-with-transfers">Working with transfers</a></li>
<li><a href="#batch-operations">Batch operations</a></li>
<li><a href="#troubleshooting">Troubleshooting</a></li>
</ul>
<h2 id="getting-started">Getting started<a class="headerlink" href="#getting-started" title="Permanent link">&para;</a></h2>
<p>The HomeBudget wrapper is a Python library and CLI that lets you manage HomeBudget data through a SQLite database. The wrapper supports expense, income, and transfer operations with full CRUD (create, read, update, delete) functionality. It also supports sync updates so changes appear in the HomeBudget apps across all devices.</p>
<p>What you need</p>
<ul>
<li>Python 3.10 or later</li>
<li>SQLite 3.35 or later</li>
<li>A HomeBudget database file</li>
</ul>
<h2 id="installation">Installation<a class="headerlink" href="#installation" title="Permanent link">&para;</a></h2>
<p>Using Git Bash on Windows for all examples. </p>
<p>Download the latest wheel distribution from the releases page and install it. Replace the version number as needed.</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="nv">RELEASE_VERSION</span><span class="o">=</span><span class="k">$(</span>cat<span class="w"> </span>VERSION<span class="k">)</span>
<a id="__codelineno-0-2" name="__codelineno-0-2" href="#__codelineno-0-2"></a><span class="nv">WHEEL_FILE</span><span class="o">=</span>homebudget-<span class="nv">$RELEASE_VERSION</span>-py3-none-any.whl
<a id="__codelineno-0-3" name="__codelineno-0-3" href="#__codelineno-0-3"></a><span class="nv">DOWNLOAD_URL</span><span class="o">=</span>https://github.com/yayfalafels/homebudget/releases/download/v<span class="nv">$RELEASE_VERSION</span>/<span class="nv">$WHEEL_FILE</span>
<a id="__codelineno-0-4" name="__codelineno-0-4" href="#__codelineno-0-4"></a>curl<span class="w"> </span>-L<span class="w"> </span>-o<span class="w"> </span><span class="nv">$WHEEL_FILE</span><span class="w"> </span><span class="nv">$DOWNLOAD_URL</span>
</code></pre></div>
<p>Create and install a python virtual environment at <code>env/</code> </p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-1-1" name="__codelineno-1-1" href="#__codelineno-1-1"></a>python<span class="w"> </span>-m<span class="w"> </span>venv<span class="w"> </span>env
<a id="__codelineno-1-2" name="__codelineno-1-2" href="#__codelineno-1-2"></a><span class="c1"># Activate the environment</span>
<a id="__codelineno-1-3" name="__codelineno-1-3" href="#__codelineno-1-3"></a><span class="nb">source</span><span class="w"> </span>env/Scripts/activate
</code></pre></div>
<p>Install the package from the wheel.</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-2-1" name="__codelineno-2-1" href="#__codelineno-2-1"></a>pip<span class="w"> </span>install<span class="w"> </span><span class="nv">$WHEEL_FILE</span>
</code></pre></div>
<h2 id="configuration">Configuration<a class="headerlink" href="#configuration" title="Permanent link">&para;</a></h2>
<p>The wrapper requires a configuration file for database path and settings. See the <a href="../configuration/">Configuration Guide</a> for complete setup instructions.</p>
<p><strong>Quick setup:</strong></p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-3-1" name="__codelineno-3-1" href="#__codelineno-3-1"></a><span class="c1"># Create config directory and copy sample</span>
<a id="__codelineno-3-2" name="__codelineno-3-2" href="#__codelineno-3-2"></a><span class="nv">config_dir</span><span class="o">=</span><span class="s2">&quot;</span><span class="nv">$USERPROFILE</span><span class="s2">/OneDrive/Documents/HomeBudgetData&quot;</span>
<a id="__codelineno-3-3" name="__codelineno-3-3" href="#__codelineno-3-3"></a>mkdir<span class="w"> </span>-p<span class="w"> </span><span class="s2">&quot;</span><span class="nv">$config_dir</span><span class="s2">&quot;</span>
<a id="__codelineno-3-4" name="__codelineno-3-4" href="#__codelineno-3-4"></a>cp<span class="w"> </span>config/hb-config.json.sample<span class="w"> </span><span class="s2">&quot;</span><span class="nv">$config_dir</span><span class="s2">/hb-config.json&quot;</span>
<a id="__codelineno-3-5" name="__codelineno-3-5" href="#__codelineno-3-5"></a><span class="c1"># Edit the config file to set db_path</span>
</code></pre></div>
<p><strong>Configuration file location:</strong>
<div class="highlight"><pre><span></span><code><a id="__codelineno-4-1" name="__codelineno-4-1" href="#__codelineno-4-1"></a>%USERPROFILE%\OneDrive\Documents\HomeBudgetData\hb-config.json
</code></pre></div></p>
<p>For full configuration options and troubleshooting, see <a href="../configuration/">Configuration Guide</a>.</p>
<h2 id="basic-usage">Basic usage<a class="headerlink" href="#basic-usage" title="Permanent link">&para;</a></h2>
<p>For a complete set of examples, see the methods and CLI guides.</p>
<ul>
<li><a href="../methods/">Methods</a></li>
<li><a href="../cli-guide/">CLI guide</a></li>
</ul>
<h2 id="entry-points">Entry points<a class="headerlink" href="#entry-points" title="Permanent link">&para;</a></h2>
<p>Library entry point</p>
<ul>
<li>Use the <code>HomeBudgetClient</code> class to perform CRUD operations</li>
<li>Use DTO classes to validate data before writing to the database</li>
</ul>
<p>CLI entry point</p>
<ul>
<li>Use <code>homebudget</code> or <code>hb</code> for the command line interface</li>
<li>Provide <code>--db</code> for the database path when <code>hb-config.json</code> is not configured</li>
</ul>
<h2 id="sync-behavior">Sync behavior<a class="headerlink" href="#sync-behavior" title="Permanent link">&para;</a></h2>
<p>Sync updates are enabled by default and mandatory for all write commands. This ensures consistency between local and remote devices:</p>
<ul>
<li>Creates SyncUpdate records in the database</li>
<li>Enables mobile and other HomeBudget clients to synchronize changes</li>
<li>Automatically manages the HomeBudget UI to maintain data consistency (Feature 001)</li>
</ul>
<p>Sync cannot be disabled via the CLI to prevent irreparable breaks between local and remote data.</p>
<h2 id="forex-input-rules">Forex input rules<a class="headerlink" href="#forex-input-rules" title="Permanent link">&para;</a></h2>
<p>Forex inputs use one of two paths for expenses and income.</p>
<p>Base currency path</p>
<ul>
<li>Provide amount only</li>
<li>Currency defaults to the account currency</li>
<li>Currency amount is set to amount for base currency updates</li>
<li>Exchange rate is treated as 1.0</li>
</ul>
<p>Foreign currency path</p>
<ul>
<li>Provide currency and currency amount</li>
<li>Exchange rate is optional (if omitted, the wrapper infers a rate from the forex cache)</li>
<li>Amount is calculated as currency amount times exchange rate</li>
</ul>
<p>You can pass an explicit rate with <code>--exchange-rate</code> (CLI) or <code>exchange_rate</code> (client updates).</p>
<p>Do not provide amount and currency amount together.</p>
<h3 id="currency-matching-constraints">Currency matching constraints<a class="headerlink" href="#currency-matching-constraints" title="Permanent link">&para;</a></h3>
<p>When adding or updating transactions (expense, income, transfer), the currency you specify must match the account's base currency rules:</p>
<p><strong>For expenses and income:</strong></p>
<ul>
<li><strong>Cannot add base currency transactions to non-base currency accounts</strong>: If an account's currency is non-base (e.g., USD account "TWH IB USD"), you cannot add a transaction in the system's base currency (SGD). The account will reject base currency inputs.</li>
<li><strong>Can add foreign currency transactions to base currency accounts</strong>: If an account's currency is the system base (SGD), you can add transactions in foreign currencies (USD, EUR, GEL, etc.) by specifying <code>--currency</code>, <code>--currency-amount</code>, and optionally <code>--exchange-rate</code>.</li>
</ul>
<p><strong>Examples:</strong></p>
<ul>
<li>✓ VALID: Add USD expense to "TWH - Personal" (SGD base) with <code>--currency USD --currency-amount 27.50 --exchange-rate 0.9273</code></li>
<li>✗ INVALID: Add SGD income to "TWH IB USD" (USD base) - account does not accept base currency</li>
<li>✓ VALID: Add USD income to "DBS Multi" (SGD base) with <code>--currency USD --currency-amount 2700 --exchange-rate 0.7407</code></li>
</ul>
<p><strong>For transfers between mixed-currency accounts:</strong></p>
<ul>
<li>You can specify the currency amount and exchange rate for <strong>either the source or destination account's currency</strong>, but not both</li>
<li>Examples:</li>
<li>✓ VALID: Transfer from "TWH - Personal" (SGD) to "TWH IB USD" (USD) specifying USD: <code>--currency USD --currency-amount 110 --exchange-rate 0.9091</code></li>
<li>✓ VALID: Same transfer specifying SGD: <code>--currency SGD --currency-amount 121 --exchange-rate 0.826</code></li>
<li>✗ INVALID: Mix both currencies in a single transfer - choose one accounts currency</li>
<li>✗ INVALID: Specify a third currency (e.g., EUR) that does not match either account's currency</li>
</ul>
<h3 id="ui-control-automatic">UI Control (Automatic)<a class="headerlink" href="#ui-control-automatic" title="Permanent link">&para;</a></h3>
<p>When you run a write command with sync enabled (the default), the HomeBudget UI is <strong>automatically closed</strong> during the database operation and <strong>automatically reopened</strong> when complete.</p>
<p><strong>Why this happens:</strong></p>
<ul>
<li>Ensures the UI doesn't read incomplete data during database changes</li>
<li>Prevents database locks that occur while the UI reads during sync operations</li>
<li>Atomic database transactions are guaranteed without UI interference</li>
</ul>
<p><strong>What you'll observe:</strong></p>
<ul>
<li>The HomeBudget application window will briefly close and reopen</li>
<li>The entire operation (close → change → reopen) typically takes 6-11 seconds</li>
<li>No manual intervention is needed; it's completely automated</li>
</ul>
<h2 id="feature-mapping">Feature mapping<a class="headerlink" href="#feature-mapping" title="Permanent link">&para;</a></h2>
<table>
<thead>
<tr>
<th>HomeBudget UI operation</th>
<th>Wrapper method</th>
<th>CLI command</th>
</tr>
</thead>
<tbody>
<tr>
<td>Add expense</td>
<td>HomeBudgetClient.add_expense</td>
<td>homebudget expense add</td>
</tr>
<tr>
<td>List expenses</td>
<td>HomeBudgetClient.list_expenses</td>
<td>homebudget expense list</td>
</tr>
<tr>
<td>Get expense</td>
<td>HomeBudgetClient.get_expense</td>
<td>homebudget expense get</td>
</tr>
<tr>
<td>Update expense</td>
<td>HomeBudgetClient.update_expense</td>
<td>homebudget expense update</td>
</tr>
<tr>
<td>Delete expense</td>
<td>HomeBudgetClient.delete_expense</td>
<td>homebudget expense delete</td>
</tr>
<tr>
<td>Add income</td>
<td>HomeBudgetClient.add_income</td>
<td>homebudget income add</td>
</tr>
<tr>
<td>List income</td>
<td>HomeBudgetClient.list_incomes</td>
<td>homebudget income list</td>
</tr>
<tr>
<td>Get income</td>
<td>HomeBudgetClient.get_income</td>
<td>homebudget income get</td>
</tr>
<tr>
<td>Update income</td>
<td>HomeBudgetClient.update_income</td>
<td>homebudget income update</td>
</tr>
<tr>
<td>Delete income</td>
<td>HomeBudgetClient.delete_income</td>
<td>homebudget income delete</td>
</tr>
<tr>
<td>Add transfer</td>
<td>HomeBudgetClient.add_transfer</td>
<td>homebudget transfer add</td>
</tr>
<tr>
<td>List transfers</td>
<td>HomeBudgetClient.list_transfers</td>
<td>homebudget transfer list</td>
</tr>
<tr>
<td>Get transfer</td>
<td>HomeBudgetClient.get_transfer</td>
<td>homebudget transfer get</td>
</tr>
<tr>
<td>Update transfer</td>
<td>HomeBudgetClient.update_transfer</td>
<td>homebudget transfer update</td>
</tr>
<tr>
<td>Delete transfer</td>
<td>HomeBudgetClient.delete_transfer</td>
<td>homebudget transfer delete</td>
</tr>
<tr>
<td>Batch add expenses</td>
<td>HomeBudgetClient.add_expenses_batch</td>
<td>homebudget expense batch-import</td>
</tr>
<tr>
<td>Batch add income</td>
<td>HomeBudgetClient.add_incomes_batch</td>
<td>homebudget income batch-import</td>
</tr>
<tr>
<td>Batch add transfers</td>
<td>HomeBudgetClient.add_transfers_batch</td>
<td>homebudget transfer batch-import</td>
</tr>
<tr>
<td>Start UI</td>
<td>N/A</td>
<td>homebudget ui start</td>
</tr>
<tr>
<td>Close UI</td>
<td>N/A</td>
<td>homebudget ui close</td>
</tr>
<tr>
<td>Refresh UI</td>
<td>N/A</td>
<td>homebudget ui refresh</td>
</tr>
<tr>
<td>Check UI status</td>
<td>N/A</td>
<td>homebudget ui status</td>
</tr>
</tbody>
</table>
<h2 id="working-with-expenses">Working with expenses<a class="headerlink" href="#working-with-expenses" title="Permanent link">&para;</a></h2>
<p>Use the expense methods to add, list, update, and delete transactions. Sync updates are created for write operations when sync is enabled.</p>
<p>Add an expense.</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-5-1" name="__codelineno-5-1" href="#__codelineno-5-1"></a><span class="kn">from</span><span class="w"> </span><span class="nn">decimal</span><span class="w"> </span><span class="kn">import</span> <span class="n">Decimal</span>
<a id="__codelineno-5-2" name="__codelineno-5-2" href="#__codelineno-5-2"></a><span class="kn">import</span><span class="w"> </span><span class="nn">datetime</span>
<a id="__codelineno-5-3" name="__codelineno-5-3" href="#__codelineno-5-3"></a>
<a id="__codelineno-5-4" name="__codelineno-5-4" href="#__codelineno-5-4"></a><span class="kn">from</span><span class="w"> </span><span class="nn">homebudget</span><span class="w"> </span><span class="kn">import</span> <span class="n">HomeBudgetClient</span><span class="p">,</span> <span class="n">ExpenseDTO</span>
<a id="__codelineno-5-5" name="__codelineno-5-5" href="#__codelineno-5-5"></a>
<a id="__codelineno-5-6" name="__codelineno-5-6" href="#__codelineno-5-6"></a><span class="k">with</span> <span class="n">HomeBudgetClient</span><span class="p">()</span> <span class="k">as</span> <span class="n">client</span><span class="p">:</span>
<a id="__codelineno-5-7" name="__codelineno-5-7" href="#__codelineno-5-7"></a>  <span class="n">expense</span> <span class="o">=</span> <span class="n">ExpenseDTO</span><span class="p">(</span>
<a id="__codelineno-5-8" name="__codelineno-5-8" href="#__codelineno-5-8"></a>    <span class="n">date</span><span class="o">=</span><span class="n">datetime</span><span class="o">.</span><span class="n">date</span><span class="p">(</span><span class="mi">2026</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">16</span><span class="p">),</span>
<a id="__codelineno-5-9" name="__codelineno-5-9" href="#__codelineno-5-9"></a>    <span class="n">category</span><span class="o">=</span><span class="s2">&quot;Dining&quot;</span><span class="p">,</span>
<a id="__codelineno-5-10" name="__codelineno-5-10" href="#__codelineno-5-10"></a>    <span class="n">subcategory</span><span class="o">=</span><span class="s2">&quot;Restaurant&quot;</span><span class="p">,</span>
<a id="__codelineno-5-11" name="__codelineno-5-11" href="#__codelineno-5-11"></a>    <span class="n">amount</span><span class="o">=</span><span class="n">Decimal</span><span class="p">(</span><span class="s2">&quot;25.50&quot;</span><span class="p">),</span>
<a id="__codelineno-5-12" name="__codelineno-5-12" href="#__codelineno-5-12"></a>    <span class="n">account</span><span class="o">=</span><span class="s2">&quot;Wallet&quot;</span><span class="p">,</span>
<a id="__codelineno-5-13" name="__codelineno-5-13" href="#__codelineno-5-13"></a>    <span class="n">notes</span><span class="o">=</span><span class="s2">&quot;Lunch&quot;</span>
<a id="__codelineno-5-14" name="__codelineno-5-14" href="#__codelineno-5-14"></a>  <span class="p">)</span>
<a id="__codelineno-5-15" name="__codelineno-5-15" href="#__codelineno-5-15"></a>  <span class="n">saved</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="n">add_expense</span><span class="p">(</span><span class="n">expense</span><span class="p">)</span>
<a id="__codelineno-5-16" name="__codelineno-5-16" href="#__codelineno-5-16"></a>  <span class="nb">print</span><span class="p">(</span><span class="n">saved</span><span class="o">.</span><span class="n">key</span><span class="p">)</span>
</code></pre></div>
<p>List expenses for a date range.</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-6-1" name="__codelineno-6-1" href="#__codelineno-6-1"></a><span class="kn">import</span><span class="w"> </span><span class="nn">datetime</span>
<a id="__codelineno-6-2" name="__codelineno-6-2" href="#__codelineno-6-2"></a><span class="kn">from</span><span class="w"> </span><span class="nn">homebudget</span><span class="w"> </span><span class="kn">import</span> <span class="n">HomeBudgetClient</span>
<a id="__codelineno-6-3" name="__codelineno-6-3" href="#__codelineno-6-3"></a>
<a id="__codelineno-6-4" name="__codelineno-6-4" href="#__codelineno-6-4"></a><span class="k">with</span> <span class="n">HomeBudgetClient</span><span class="p">()</span> <span class="k">as</span> <span class="n">client</span><span class="p">:</span>
<a id="__codelineno-6-5" name="__codelineno-6-5" href="#__codelineno-6-5"></a>  <span class="n">results</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="n">list_expenses</span><span class="p">(</span>
<a id="__codelineno-6-6" name="__codelineno-6-6" href="#__codelineno-6-6"></a>    <span class="n">start_date</span><span class="o">=</span><span class="n">datetime</span><span class="o">.</span><span class="n">date</span><span class="p">(</span><span class="mi">2026</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span>
<a id="__codelineno-6-7" name="__codelineno-6-7" href="#__codelineno-6-7"></a>    <span class="n">end_date</span><span class="o">=</span><span class="n">datetime</span><span class="o">.</span><span class="n">date</span><span class="p">(</span><span class="mi">2026</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">28</span><span class="p">)</span>
<a id="__codelineno-6-8" name="__codelineno-6-8" href="#__codelineno-6-8"></a>  <span class="p">)</span>
<a id="__codelineno-6-9" name="__codelineno-6-9" href="#__codelineno-6-9"></a>  <span class="k">for</span> <span class="n">expense</span> <span class="ow">in</span> <span class="n">results</span><span class="p">:</span>
<a id="__codelineno-6-10" name="__codelineno-6-10" href="#__codelineno-6-10"></a>    <span class="nb">print</span><span class="p">(</span><span class="n">expense</span><span class="o">.</span><span class="n">key</span><span class="p">,</span> <span class="n">expense</span><span class="o">.</span><span class="n">amount</span><span class="p">)</span>
</code></pre></div>
<p>Add an expense with the CLI.</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-7-1" name="__codelineno-7-1" href="#__codelineno-7-1"></a>homebudget<span class="w"> </span>expense<span class="w"> </span>add<span class="w"> </span><span class="se">\</span>
<a id="__codelineno-7-2" name="__codelineno-7-2" href="#__codelineno-7-2"></a><span class="w">  </span>--date<span class="w"> </span><span class="m">2026</span>-02-16<span class="w"> </span><span class="se">\</span>
<a id="__codelineno-7-3" name="__codelineno-7-3" href="#__codelineno-7-3"></a><span class="w">  </span>--category<span class="w"> </span>Dining<span class="w"> </span><span class="se">\</span>
<a id="__codelineno-7-4" name="__codelineno-7-4" href="#__codelineno-7-4"></a><span class="w">  </span>--subcategory<span class="w"> </span>Restaurant<span class="w"> </span><span class="se">\</span>
<a id="__codelineno-7-5" name="__codelineno-7-5" href="#__codelineno-7-5"></a><span class="w">  </span>--amount<span class="w"> </span><span class="m">25</span>.50<span class="w"> </span><span class="se">\</span>
<a id="__codelineno-7-6" name="__codelineno-7-6" href="#__codelineno-7-6"></a><span class="w">  </span>--account<span class="w"> </span>Wallet<span class="w"> </span><span class="se">\</span>
<a id="__codelineno-7-7" name="__codelineno-7-7" href="#__codelineno-7-7"></a><span class="w">  </span>--notes<span class="w"> </span><span class="s2">&quot;Lunch&quot;</span>
</code></pre></div>
<p>Add an expense with a foreign currency and exchange rate.</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-8-1" name="__codelineno-8-1" href="#__codelineno-8-1"></a>homebudget<span class="w"> </span>expense<span class="w"> </span>add<span class="w"> </span><span class="se">\</span>
<a id="__codelineno-8-2" name="__codelineno-8-2" href="#__codelineno-8-2"></a><span class="w">  </span>--date<span class="w"> </span><span class="m">2026</span>-02-16<span class="w"> </span><span class="se">\</span>
<a id="__codelineno-8-3" name="__codelineno-8-3" href="#__codelineno-8-3"></a><span class="w">  </span>--category<span class="w"> </span>Dining<span class="w"> </span><span class="se">\</span>
<a id="__codelineno-8-4" name="__codelineno-8-4" href="#__codelineno-8-4"></a><span class="w">  </span>--subcategory<span class="w"> </span>Restaurant<span class="w"> </span><span class="se">\</span>
<a id="__codelineno-8-5" name="__codelineno-8-5" href="#__codelineno-8-5"></a><span class="w">  </span>--currency<span class="w"> </span>EUR<span class="w"> </span><span class="se">\</span>
<a id="__codelineno-8-6" name="__codelineno-8-6" href="#__codelineno-8-6"></a><span class="w">  </span>--currency-amount<span class="w"> </span><span class="m">12</span>.00<span class="w"> </span><span class="se">\</span>
<a id="__codelineno-8-7" name="__codelineno-8-7" href="#__codelineno-8-7"></a><span class="w">  </span>--exchange-rate<span class="w"> </span><span class="m">1</span>.10<span class="w"> </span><span class="se">\</span>
<a id="__codelineno-8-8" name="__codelineno-8-8" href="#__codelineno-8-8"></a><span class="w">  </span>--account<span class="w"> </span>Wallet<span class="w"> </span><span class="se">\</span>
<a id="__codelineno-8-9" name="__codelineno-8-9" href="#__codelineno-8-9"></a><span class="w">  </span>--notes<span class="w"> </span><span class="s2">&quot;Lunch&quot;</span>
</code></pre></div>
<h2 id="working-with-income">Working with income<a class="headerlink" href="#working-with-income" title="Permanent link">&para;</a></h2>
<p>Use the income methods to add, list, update, and delete income transactions. Sync updates are created for write operations when sync is enabled.</p>
<p>Add income.</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-9-1" name="__codelineno-9-1" href="#__codelineno-9-1"></a><span class="kn">from</span><span class="w"> </span><span class="nn">decimal</span><span class="w"> </span><span class="kn">import</span> <span class="n">Decimal</span>
<a id="__codelineno-9-2" name="__codelineno-9-2" href="#__codelineno-9-2"></a><span class="kn">import</span><span class="w"> </span><span class="nn">datetime</span>
<a id="__codelineno-9-3" name="__codelineno-9-3" href="#__codelineno-9-3"></a>
<a id="__codelineno-9-4" name="__codelineno-9-4" href="#__codelineno-9-4"></a><span class="kn">from</span><span class="w"> </span><span class="nn">homebudget</span><span class="w"> </span><span class="kn">import</span> <span class="n">HomeBudgetClient</span><span class="p">,</span> <span class="n">IncomeDTO</span>
<a id="__codelineno-9-5" name="__codelineno-9-5" href="#__codelineno-9-5"></a>
<a id="__codelineno-9-6" name="__codelineno-9-6" href="#__codelineno-9-6"></a><span class="k">with</span> <span class="n">HomeBudgetClient</span><span class="p">()</span> <span class="k">as</span> <span class="n">client</span><span class="p">:</span>
<a id="__codelineno-9-7" name="__codelineno-9-7" href="#__codelineno-9-7"></a>  <span class="n">income</span> <span class="o">=</span> <span class="n">IncomeDTO</span><span class="p">(</span>
<a id="__codelineno-9-8" name="__codelineno-9-8" href="#__codelineno-9-8"></a>    <span class="n">date</span><span class="o">=</span><span class="n">datetime</span><span class="o">.</span><span class="n">date</span><span class="p">(</span><span class="mi">2026</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">28</span><span class="p">),</span>
<a id="__codelineno-9-9" name="__codelineno-9-9" href="#__codelineno-9-9"></a>    <span class="n">name</span><span class="o">=</span><span class="s2">&quot;Salary&quot;</span><span class="p">,</span>
<a id="__codelineno-9-10" name="__codelineno-9-10" href="#__codelineno-9-10"></a>    <span class="n">amount</span><span class="o">=</span><span class="n">Decimal</span><span class="p">(</span><span class="s2">&quot;5000.00&quot;</span><span class="p">),</span>
<a id="__codelineno-9-11" name="__codelineno-9-11" href="#__codelineno-9-11"></a>    <span class="n">account</span><span class="o">=</span><span class="s2">&quot;Bank&quot;</span><span class="p">,</span>
<a id="__codelineno-9-12" name="__codelineno-9-12" href="#__codelineno-9-12"></a>    <span class="n">notes</span><span class="o">=</span><span class="s2">&quot;February salary&quot;</span>
<a id="__codelineno-9-13" name="__codelineno-9-13" href="#__codelineno-9-13"></a>  <span class="p">)</span>
<a id="__codelineno-9-14" name="__codelineno-9-14" href="#__codelineno-9-14"></a>  <span class="n">saved</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="n">add_income</span><span class="p">(</span><span class="n">income</span><span class="p">)</span>
<a id="__codelineno-9-15" name="__codelineno-9-15" href="#__codelineno-9-15"></a>  <span class="nb">print</span><span class="p">(</span><span class="n">saved</span><span class="o">.</span><span class="n">key</span><span class="p">)</span>
</code></pre></div>
<p>List income for a date range.</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-10-1" name="__codelineno-10-1" href="#__codelineno-10-1"></a><span class="kn">import</span><span class="w"> </span><span class="nn">datetime</span>
<a id="__codelineno-10-2" name="__codelineno-10-2" href="#__codelineno-10-2"></a><span class="kn">from</span><span class="w"> </span><span class="nn">homebudget</span><span class="w"> </span><span class="kn">import</span> <span class="n">HomeBudgetClient</span>
<a id="__codelineno-10-3" name="__codelineno-10-3" href="#__codelineno-10-3"></a>
<a id="__codelineno-10-4" name="__codelineno-10-4" href="#__codelineno-10-4"></a><span class="k">with</span> <span class="n">HomeBudgetClient</span><span class="p">()</span> <span class="k">as</span> <span class="n">client</span><span class="p">:</span>
<a id="__codelineno-10-5" name="__codelineno-10-5" href="#__codelineno-10-5"></a>  <span class="n">results</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="n">list_incomes</span><span class="p">(</span>
<a id="__codelineno-10-6" name="__codelineno-10-6" href="#__codelineno-10-6"></a>    <span class="n">start_date</span><span class="o">=</span><span class="n">datetime</span><span class="o">.</span><span class="n">date</span><span class="p">(</span><span class="mi">2026</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span>
<a id="__codelineno-10-7" name="__codelineno-10-7" href="#__codelineno-10-7"></a>    <span class="n">end_date</span><span class="o">=</span><span class="n">datetime</span><span class="o">.</span><span class="n">date</span><span class="p">(</span><span class="mi">2026</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">28</span><span class="p">)</span>
<a id="__codelineno-10-8" name="__codelineno-10-8" href="#__codelineno-10-8"></a>  <span class="p">)</span>
<a id="__codelineno-10-9" name="__codelineno-10-9" href="#__codelineno-10-9"></a>  <span class="k">for</span> <span class="n">income</span> <span class="ow">in</span> <span class="n">results</span><span class="p">:</span>
<a id="__codelineno-10-10" name="__codelineno-10-10" href="#__codelineno-10-10"></a>    <span class="nb">print</span><span class="p">(</span><span class="n">income</span><span class="o">.</span><span class="n">key</span><span class="p">,</span> <span class="n">income</span><span class="o">.</span><span class="n">amount</span><span class="p">)</span>
</code></pre></div>
<p>Add income with the CLI.</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-11-1" name="__codelineno-11-1" href="#__codelineno-11-1"></a>homebudget<span class="w"> </span>income<span class="w"> </span>add<span class="w"> </span><span class="se">\</span>
<a id="__codelineno-11-2" name="__codelineno-11-2" href="#__codelineno-11-2"></a><span class="w">  </span>--date<span class="w"> </span><span class="m">2026</span>-02-28<span class="w"> </span><span class="se">\</span>
<a id="__codelineno-11-3" name="__codelineno-11-3" href="#__codelineno-11-3"></a><span class="w">  </span>--name<span class="w"> </span><span class="s2">&quot;Salary&quot;</span><span class="w"> </span><span class="se">\</span>
<a id="__codelineno-11-4" name="__codelineno-11-4" href="#__codelineno-11-4"></a><span class="w">  </span>--amount<span class="w"> </span><span class="m">5000</span>.00<span class="w"> </span><span class="se">\</span>
<a id="__codelineno-11-5" name="__codelineno-11-5" href="#__codelineno-11-5"></a><span class="w">  </span>--account<span class="w"> </span>Bank<span class="w"> </span><span class="se">\</span>
<a id="__codelineno-11-6" name="__codelineno-11-6" href="#__codelineno-11-6"></a><span class="w">  </span>--notes<span class="w"> </span><span class="s2">&quot;February salary&quot;</span>
</code></pre></div>
<h2 id="working-with-transfers">Working with transfers<a class="headerlink" href="#working-with-transfers" title="Permanent link">&para;</a></h2>
<p>Use the transfer methods to add, list, update, and delete transfers between accounts. Transfers support a <strong>currency normalization layer</strong> that allows flexible input for mixed-currency transfers.</p>
<h3 id="currency-normalization-layer">Currency Normalization Layer<a class="headerlink" href="#currency-normalization-layer" title="Permanent link">&para;</a></h3>
<p>When transferring between accounts with different currencies, you can specify the amount in three ways:</p>
<ul>
<li><strong>Amount Only (Inference)</strong>: Provide only <code>--amount</code>. The system infers the currency:</li>
</ul>
<p>If base currency in either account → amount is in base currency</p>
<p>If base in neither account → amount is in from_account currency</p>
<ul>
<li><strong>From-Currency Explicit</strong>: Provide <code>--currency</code> + <code>--currency-amount</code> matching the <strong>from_account</strong></li>
</ul>
<p>Already in backend format → passes through unchanged</p>
<ul>
<li><strong>To-Currency Explicit</strong>: Provide <code>--currency</code> + <code>--currency-amount</code> matching the <strong>to_account</strong></li>
</ul>
<p>System normalizes to backend format using inverse forex calculation</p>
<p>For detailed normalization rules, see <a href="../transfer-currency-normalization/">docs/transfer-currency-normalization.md</a>.</p>
<h3 id="basic-transfer-examples">Basic Transfer Examples<a class="headerlink" href="#basic-transfer-examples" title="Permanent link">&para;</a></h3>
<p>Add a same-currency transfer.</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-12-1" name="__codelineno-12-1" href="#__codelineno-12-1"></a><span class="kn">from</span><span class="w"> </span><span class="nn">decimal</span><span class="w"> </span><span class="kn">import</span> <span class="n">Decimal</span>
<a id="__codelineno-12-2" name="__codelineno-12-2" href="#__codelineno-12-2"></a><span class="kn">import</span><span class="w"> </span><span class="nn">datetime</span>
<a id="__codelineno-12-3" name="__codelineno-12-3" href="#__codelineno-12-3"></a>
<a id="__codelineno-12-4" name="__codelineno-12-4" href="#__codelineno-12-4"></a><span class="kn">from</span><span class="w"> </span><span class="nn">homebudget</span><span class="w"> </span><span class="kn">import</span> <span class="n">HomeBudgetClient</span><span class="p">,</span> <span class="n">TransferDTO</span>
<a id="__codelineno-12-5" name="__codelineno-12-5" href="#__codelineno-12-5"></a>
<a id="__codelineno-12-6" name="__codelineno-12-6" href="#__codelineno-12-6"></a><span class="k">with</span> <span class="n">HomeBudgetClient</span><span class="p">()</span> <span class="k">as</span> <span class="n">client</span><span class="p">:</span>
<a id="__codelineno-12-7" name="__codelineno-12-7" href="#__codelineno-12-7"></a>  <span class="n">transfer</span> <span class="o">=</span> <span class="n">TransferDTO</span><span class="p">(</span>
<a id="__codelineno-12-8" name="__codelineno-12-8" href="#__codelineno-12-8"></a>    <span class="n">date</span><span class="o">=</span><span class="n">datetime</span><span class="o">.</span><span class="n">date</span><span class="p">(</span><span class="mi">2026</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">20</span><span class="p">),</span>
<a id="__codelineno-12-9" name="__codelineno-12-9" href="#__codelineno-12-9"></a>    <span class="n">from_account</span><span class="o">=</span><span class="s2">&quot;Bank&quot;</span><span class="p">,</span>
<a id="__codelineno-12-10" name="__codelineno-12-10" href="#__codelineno-12-10"></a>    <span class="n">to_account</span><span class="o">=</span><span class="s2">&quot;Wallet&quot;</span><span class="p">,</span>
<a id="__codelineno-12-11" name="__codelineno-12-11" href="#__codelineno-12-11"></a>    <span class="n">amount</span><span class="o">=</span><span class="n">Decimal</span><span class="p">(</span><span class="s2">&quot;200.00&quot;</span><span class="p">),</span>
<a id="__codelineno-12-12" name="__codelineno-12-12" href="#__codelineno-12-12"></a>    <span class="n">notes</span><span class="o">=</span><span class="s2">&quot;Cash withdrawal&quot;</span>
<a id="__codelineno-12-13" name="__codelineno-12-13" href="#__codelineno-12-13"></a>  <span class="p">)</span>
<a id="__codelineno-12-14" name="__codelineno-12-14" href="#__codelineno-12-14"></a>  <span class="n">saved</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="n">add_transfer</span><span class="p">(</span><span class="n">transfer</span><span class="p">)</span>
<a id="__codelineno-12-15" name="__codelineno-12-15" href="#__codelineno-12-15"></a>  <span class="nb">print</span><span class="p">(</span><span class="n">saved</span><span class="o">.</span><span class="n">key</span><span class="p">)</span>
</code></pre></div>
<p>Add a mixed-currency transfer (amount only).</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-13-1" name="__codelineno-13-1" href="#__codelineno-13-1"></a><span class="c1"># Transfer from SGD account to USD account</span>
<a id="__codelineno-13-2" name="__codelineno-13-2" href="#__codelineno-13-2"></a><span class="c1"># System infers: amount is in base currency (SGD)</span>
<a id="__codelineno-13-3" name="__codelineno-13-3" href="#__codelineno-13-3"></a><span class="k">with</span> <span class="n">HomeBudgetClient</span><span class="p">()</span> <span class="k">as</span> <span class="n">client</span><span class="p">:</span>
<a id="__codelineno-13-4" name="__codelineno-13-4" href="#__codelineno-13-4"></a>  <span class="n">transfer</span> <span class="o">=</span> <span class="n">TransferDTO</span><span class="p">(</span>
<a id="__codelineno-13-5" name="__codelineno-13-5" href="#__codelineno-13-5"></a>    <span class="n">date</span><span class="o">=</span><span class="n">datetime</span><span class="o">.</span><span class="n">date</span><span class="p">(</span><span class="mi">2026</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">20</span><span class="p">),</span>
<a id="__codelineno-13-6" name="__codelineno-13-6" href="#__codelineno-13-6"></a>    <span class="n">from_account</span><span class="o">=</span><span class="s2">&quot;TWH - Personal&quot;</span><span class="p">,</span>  <span class="c1"># SGD base</span>
<a id="__codelineno-13-7" name="__codelineno-13-7" href="#__codelineno-13-7"></a>    <span class="n">to_account</span><span class="o">=</span><span class="s2">&quot;TWH IB USD&quot;</span><span class="p">,</span>  <span class="c1"># USD</span>
<a id="__codelineno-13-8" name="__codelineno-13-8" href="#__codelineno-13-8"></a>    <span class="n">amount</span><span class="o">=</span><span class="n">Decimal</span><span class="p">(</span><span class="s2">&quot;200.00&quot;</span><span class="p">),</span>  <span class="c1"># Interpreted as SGD</span>
<a id="__codelineno-13-9" name="__codelineno-13-9" href="#__codelineno-13-9"></a>    <span class="n">notes</span><span class="o">=</span><span class="s2">&quot;Transfer to USD account&quot;</span>
<a id="__codelineno-13-10" name="__codelineno-13-10" href="#__codelineno-13-10"></a>  <span class="p">)</span>
<a id="__codelineno-13-11" name="__codelineno-13-11" href="#__codelineno-13-11"></a>  <span class="n">saved</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="n">add_transfer</span><span class="p">(</span><span class="n">transfer</span><span class="p">)</span>
<a id="__codelineno-13-12" name="__codelineno-13-12" href="#__codelineno-13-12"></a>  <span class="nb">print</span><span class="p">(</span><span class="n">saved</span><span class="o">.</span><span class="n">key</span><span class="p">)</span>
</code></pre></div>
<p>Add a mixed-currency transfer (explicit from-currency).</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-14-1" name="__codelineno-14-1" href="#__codelineno-14-1"></a><span class="c1"># Specify amount in from_account currency (USD)</span>
<a id="__codelineno-14-2" name="__codelineno-14-2" href="#__codelineno-14-2"></a><span class="k">with</span> <span class="n">HomeBudgetClient</span><span class="p">()</span> <span class="k">as</span> <span class="n">client</span><span class="p">:</span>
<a id="__codelineno-14-3" name="__codelineno-14-3" href="#__codelineno-14-3"></a>  <span class="n">transfer</span> <span class="o">=</span> <span class="n">TransferDTO</span><span class="p">(</span>
<a id="__codelineno-14-4" name="__codelineno-14-4" href="#__codelineno-14-4"></a>    <span class="n">date</span><span class="o">=</span><span class="n">datetime</span><span class="o">.</span><span class="n">date</span><span class="p">(</span><span class="mi">2026</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">20</span><span class="p">),</span>
<a id="__codelineno-14-5" name="__codelineno-14-5" href="#__codelineno-14-5"></a>    <span class="n">from_account</span><span class="o">=</span><span class="s2">&quot;TWH IB USD&quot;</span><span class="p">,</span>  <span class="c1"># USD</span>
<a id="__codelineno-14-6" name="__codelineno-14-6" href="#__codelineno-14-6"></a>    <span class="n">to_account</span><span class="o">=</span><span class="s2">&quot;TWH - Personal&quot;</span><span class="p">,</span>  <span class="c1"># SGD base</span>
<a id="__codelineno-14-7" name="__codelineno-14-7" href="#__codelineno-14-7"></a>    <span class="n">amount</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>  <span class="c1"># Will be calculated</span>
<a id="__codelineno-14-8" name="__codelineno-14-8" href="#__codelineno-14-8"></a>    <span class="n">currency</span><span class="o">=</span><span class="s2">&quot;USD&quot;</span><span class="p">,</span>  <span class="c1"># Matches from_account</span>
<a id="__codelineno-14-9" name="__codelineno-14-9" href="#__codelineno-14-9"></a>    <span class="n">currency_amount</span><span class="o">=</span><span class="n">Decimal</span><span class="p">(</span><span class="s2">&quot;150.00&quot;</span><span class="p">),</span>  <span class="c1"># Amount in USD</span>
<a id="__codelineno-14-10" name="__codelineno-14-10" href="#__codelineno-14-10"></a>    <span class="n">notes</span><span class="o">=</span><span class="s2">&quot;Transfer to SGD account&quot;</span>
<a id="__codelineno-14-11" name="__codelineno-14-11" href="#__codelineno-14-11"></a>  <span class="p">)</span>
<a id="__codelineno-14-12" name="__codelineno-14-12" href="#__codelineno-14-12"></a>  <span class="n">saved</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="n">add_transfer</span><span class="p">(</span><span class="n">transfer</span><span class="p">)</span>
<a id="__codelineno-14-13" name="__codelineno-14-13" href="#__codelineno-14-13"></a>  <span class="nb">print</span><span class="p">(</span><span class="n">saved</span><span class="o">.</span><span class="n">key</span><span class="p">)</span>
</code></pre></div>
<p>Add a mixed-currency transfer (explicit to-currency, normalized).</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-15-1" name="__codelineno-15-1" href="#__codelineno-15-1"></a><span class="c1"># Specify amount in to_account currency (EUR)</span>
<a id="__codelineno-15-2" name="__codelineno-15-2" href="#__codelineno-15-2"></a><span class="c1"># System normalizes to backend format (from_account currency)</span>
<a id="__codelineno-15-3" name="__codelineno-15-3" href="#__codelineno-15-3"></a><span class="k">with</span> <span class="n">HomeBudgetClient</span><span class="p">()</span> <span class="k">as</span> <span class="n">client</span><span class="p">:</span>
<a id="__codelineno-15-4" name="__codelineno-15-4" href="#__codelineno-15-4"></a>  <span class="n">transfer</span> <span class="o">=</span> <span class="n">TransferDTO</span><span class="p">(</span>
<a id="__codelineno-15-5" name="__codelineno-15-5" href="#__codelineno-15-5"></a>    <span class="n">date</span><span class="o">=</span><span class="n">datetime</span><span class="o">.</span><span class="n">date</span><span class="p">(</span><span class="mi">2026</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">20</span><span class="p">),</span>
<a id="__codelineno-15-6" name="__codelineno-15-6" href="#__codelineno-15-6"></a>    <span class="n">from_account</span><span class="o">=</span><span class="s2">&quot;TWH IB USD&quot;</span><span class="p">,</span>  <span class="c1"># USD</span>
<a id="__codelineno-15-7" name="__codelineno-15-7" href="#__codelineno-15-7"></a>    <span class="n">to_account</span><span class="o">=</span><span class="s2">&quot;Cash TWH EUR&quot;</span><span class="p">,</span>  <span class="c1"># EUR</span>
<a id="__codelineno-15-8" name="__codelineno-15-8" href="#__codelineno-15-8"></a>    <span class="n">amount</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>  <span class="c1"># Will be calculated</span>
<a id="__codelineno-15-9" name="__codelineno-15-9" href="#__codelineno-15-9"></a>    <span class="n">currency</span><span class="o">=</span><span class="s2">&quot;EUR&quot;</span><span class="p">,</span>  <span class="c1"># Matches to_account (will be normalized)</span>
<a id="__codelineno-15-10" name="__codelineno-15-10" href="#__codelineno-15-10"></a>    <span class="n">currency_amount</span><span class="o">=</span><span class="n">Decimal</span><span class="p">(</span><span class="s2">&quot;90.00&quot;</span><span class="p">),</span>  <span class="c1"># Amount in EUR</span>
<a id="__codelineno-15-11" name="__codelineno-15-11" href="#__codelineno-15-11"></a>    <span class="n">notes</span><span class="o">=</span><span class="s2">&quot;Transfer to EUR account&quot;</span>
<a id="__codelineno-15-12" name="__codelineno-15-12" href="#__codelineno-15-12"></a>  <span class="p">)</span>
<a id="__codelineno-15-13" name="__codelineno-15-13" href="#__codelineno-15-13"></a>  <span class="n">saved</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="n">add_transfer</span><span class="p">(</span><span class="n">transfer</span><span class="p">)</span>
<a id="__codelineno-15-14" name="__codelineno-15-14" href="#__codelineno-15-14"></a>  <span class="nb">print</span><span class="p">(</span><span class="n">saved</span><span class="o">.</span><span class="n">key</span><span class="p">)</span>
</code></pre></div>
<p>List transfers for a date range.</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-16-1" name="__codelineno-16-1" href="#__codelineno-16-1"></a><span class="kn">import</span><span class="w"> </span><span class="nn">datetime</span>
<a id="__codelineno-16-2" name="__codelineno-16-2" href="#__codelineno-16-2"></a><span class="kn">from</span><span class="w"> </span><span class="nn">homebudget</span><span class="w"> </span><span class="kn">import</span> <span class="n">HomeBudgetClient</span>
<a id="__codelineno-16-3" name="__codelineno-16-3" href="#__codelineno-16-3"></a>
<a id="__codelineno-16-4" name="__codelineno-16-4" href="#__codelineno-16-4"></a><span class="k">with</span> <span class="n">HomeBudgetClient</span><span class="p">()</span> <span class="k">as</span> <span class="n">client</span><span class="p">:</span>
<a id="__codelineno-16-5" name="__codelineno-16-5" href="#__codelineno-16-5"></a>  <span class="n">results</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="n">list_transfers</span><span class="p">(</span>
<a id="__codelineno-16-6" name="__codelineno-16-6" href="#__codelineno-16-6"></a>    <span class="n">start_date</span><span class="o">=</span><span class="n">datetime</span><span class="o">.</span><span class="n">date</span><span class="p">(</span><span class="mi">2026</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span>
<a id="__codelineno-16-7" name="__codelineno-16-7" href="#__codelineno-16-7"></a>    <span class="n">end_date</span><span class="o">=</span><span class="n">datetime</span><span class="o">.</span><span class="n">date</span><span class="p">(</span><span class="mi">2026</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">28</span><span class="p">)</span>
<a id="__codelineno-16-8" name="__codelineno-16-8" href="#__codelineno-16-8"></a>  <span class="p">)</span>
<a id="__codelineno-16-9" name="__codelineno-16-9" href="#__codelineno-16-9"></a>  <span class="k">for</span> <span class="n">transfer</span> <span class="ow">in</span> <span class="n">results</span><span class="p">:</span>
<a id="__codelineno-16-10" name="__codelineno-16-10" href="#__codelineno-16-10"></a>    <span class="nb">print</span><span class="p">(</span><span class="n">transfer</span><span class="o">.</span><span class="n">key</span><span class="p">,</span> <span class="n">transfer</span><span class="o">.</span><span class="n">amount</span><span class="p">)</span>
</code></pre></div>
<h3 id="cli-transfer-examples">CLI Transfer Examples<a class="headerlink" href="#cli-transfer-examples" title="Permanent link">&para;</a></h3>
<p>Add a same-currency transfer.</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-17-1" name="__codelineno-17-1" href="#__codelineno-17-1"></a>homebudget<span class="w"> </span>transfer<span class="w"> </span>add<span class="w"> </span><span class="se">\</span>
<a id="__codelineno-17-2" name="__codelineno-17-2" href="#__codelineno-17-2"></a><span class="w">  </span>--date<span class="w"> </span><span class="m">2026</span>-02-20<span class="w"> </span><span class="se">\</span>
<a id="__codelineno-17-3" name="__codelineno-17-3" href="#__codelineno-17-3"></a><span class="w">  </span>--from-account<span class="w"> </span><span class="s2">&quot;Bank&quot;</span><span class="w"> </span><span class="se">\</span>
<a id="__codelineno-17-4" name="__codelineno-17-4" href="#__codelineno-17-4"></a><span class="w">  </span>--to-account<span class="w"> </span><span class="s2">&quot;Wallet&quot;</span><span class="w"> </span><span class="se">\</span>
<a id="__codelineno-17-5" name="__codelineno-17-5" href="#__codelineno-17-5"></a><span class="w">  </span>--amount<span class="w"> </span><span class="m">200</span>.00<span class="w"> </span><span class="se">\</span>
<a id="__codelineno-17-6" name="__codelineno-17-6" href="#__codelineno-17-6"></a><span class="w">  </span>--notes<span class="w"> </span><span class="s2">&quot;Cash withdrawal&quot;</span>
</code></pre></div>
<p>Add a mixed-currency transfer (amount only).</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-18-1" name="__codelineno-18-1" href="#__codelineno-18-1"></a><span class="c1"># Transfer from SGD to USD - amount inferred as base currency (SGD)</span>
<a id="__codelineno-18-2" name="__codelineno-18-2" href="#__codelineno-18-2"></a>homebudget<span class="w"> </span>transfer<span class="w"> </span>add<span class="w"> </span><span class="se">\</span>
<a id="__codelineno-18-3" name="__codelineno-18-3" href="#__codelineno-18-3"></a><span class="w">  </span>--date<span class="w"> </span><span class="m">2026</span>-02-20<span class="w"> </span><span class="se">\</span>
<a id="__codelineno-18-4" name="__codelineno-18-4" href="#__codelineno-18-4"></a><span class="w">  </span>--from-account<span class="w"> </span><span class="s2">&quot;TWH - Personal&quot;</span><span class="w"> </span><span class="se">\</span>
<a id="__codelineno-18-5" name="__codelineno-18-5" href="#__codelineno-18-5"></a><span class="w">  </span>--to-account<span class="w"> </span><span class="s2">&quot;TWH IB USD&quot;</span><span class="w"> </span><span class="se">\</span>
<a id="__codelineno-18-6" name="__codelineno-18-6" href="#__codelineno-18-6"></a><span class="w">  </span>--amount<span class="w"> </span><span class="m">200</span>.00<span class="w"> </span><span class="se">\</span>
<a id="__codelineno-18-7" name="__codelineno-18-7" href="#__codelineno-18-7"></a><span class="w">  </span>--notes<span class="w"> </span><span class="s2">&quot;Transfer to USD account&quot;</span>
</code></pre></div>
<p>Add a mixed-currency transfer (explicit from-currency).</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-19-1" name="__codelineno-19-1" href="#__codelineno-19-1"></a><span class="c1"># Specify amount in from_account currency (USD)</span>
<a id="__codelineno-19-2" name="__codelineno-19-2" href="#__codelineno-19-2"></a>homebudget<span class="w"> </span>transfer<span class="w"> </span>add<span class="w"> </span><span class="se">\</span>
<a id="__codelineno-19-3" name="__codelineno-19-3" href="#__codelineno-19-3"></a><span class="w">  </span>--date<span class="w"> </span><span class="m">2026</span>-02-20<span class="w"> </span><span class="se">\</span>
<a id="__codelineno-19-4" name="__codelineno-19-4" href="#__codelineno-19-4"></a><span class="w">  </span>--from-account<span class="w"> </span><span class="s2">&quot;TWH IB USD&quot;</span><span class="w"> </span><span class="se">\</span>
<a id="__codelineno-19-5" name="__codelineno-19-5" href="#__codelineno-19-5"></a><span class="w">  </span>--to-account<span class="w"> </span><span class="s2">&quot;TWH - Personal&quot;</span><span class="w"> </span><span class="se">\</span>
<a id="__codelineno-19-6" name="__codelineno-19-6" href="#__codelineno-19-6"></a><span class="w">  </span>--currency<span class="w"> </span>USD<span class="w"> </span><span class="se">\</span>
<a id="__codelineno-19-7" name="__codelineno-19-7" href="#__codelineno-19-7"></a><span class="w">  </span>--currency-amount<span class="w"> </span><span class="m">150</span>.00<span class="w"> </span><span class="se">\</span>
<a id="__codelineno-19-8" name="__codelineno-19-8" href="#__codelineno-19-8"></a><span class="w">  </span>--exchange-rate<span class="w"> </span><span class="m">1</span>.35<span class="w"> </span><span class="se">\</span>
<a id="__codelineno-19-9" name="__codelineno-19-9" href="#__codelineno-19-9"></a><span class="w">  </span>--notes<span class="w"> </span><span class="s2">&quot;Transfer to SGD account&quot;</span>
</code></pre></div>
<p>Add a mixed-currency transfer (explicit to-currency, normalized).</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-20-1" name="__codelineno-20-1" href="#__codelineno-20-1"></a><span class="c1"># Specify amount in to_account currency (EUR) - system normalizes</span>
<a id="__codelineno-20-2" name="__codelineno-20-2" href="#__codelineno-20-2"></a>homebudget<span class="w"> </span>transfer<span class="w"> </span>add<span class="w"> </span><span class="se">\</span>
<a id="__codelineno-20-3" name="__codelineno-20-3" href="#__codelineno-20-3"></a><span class="w">  </span>--date<span class="w"> </span><span class="m">2026</span>-02-20<span class="w"> </span><span class="se">\</span>
<a id="__codelineno-20-4" name="__codelineno-20-4" href="#__codelineno-20-4"></a><span class="w">  </span>--from-account<span class="w"> </span><span class="s2">&quot;TWH IB USD&quot;</span><span class="w"> </span><span class="se">\</span>
<a id="__codelineno-20-5" name="__codelineno-20-5" href="#__codelineno-20-5"></a><span class="w">  </span>--to-account<span class="w"> </span><span class="s2">&quot;Cash TWH EUR&quot;</span><span class="w"> </span><span class="se">\</span>
<a id="__codelineno-20-6" name="__codelineno-20-6" href="#__codelineno-20-6"></a><span class="w">  </span>--currency<span class="w"> </span>EUR<span class="w"> </span><span class="se">\</span>
<a id="__codelineno-20-7" name="__codelineno-20-7" href="#__codelineno-20-7"></a><span class="w">  </span>--currency-amount<span class="w"> </span><span class="m">90</span>.00<span class="w"> </span><span class="se">\</span>
<a id="__codelineno-20-8" name="__codelineno-20-8" href="#__codelineno-20-8"></a><span class="w">  </span>--exchange-rate<span class="w"> </span><span class="m">0</span>.92<span class="w"> </span><span class="se">\</span>
<a id="__codelineno-20-9" name="__codelineno-20-9" href="#__codelineno-20-9"></a><span class="w">  </span>--notes<span class="w"> </span><span class="s2">&quot;Transfer to EUR account&quot;</span>
</code></pre></div>
<h2 id="batch-operations">Batch operations<a class="headerlink" href="#batch-operations" title="Permanent link">&para;</a></h2>
<p>Batch operations support two paths. Use batch import for single resource files, or use the mixed operation JSON format to combine resources and operations in one run.</p>
<h3 id="batch-behavior">Batch behavior<a class="headerlink" href="#batch-behavior" title="Permanent link">&para;</a></h3>
<ul>
<li><strong>Sync optimization</strong>: Individual transactions are added without sync, then a single sync operation occurs after the batch completes</li>
<li><strong>Error handling</strong>: By default, batch continues on error and reports failures at the end. Use <code>--stop-on-error</code> to halt on first failure</li>
<li><strong>Transaction atomicity</strong>: Each individual transaction insert is atomic, but the batch as a whole may partially succeed</li>
<li><strong>Validation</strong>: Each record is validated before insertion same as single-record operations</li>
</ul>
<h3 id="csv-format">CSV format<a class="headerlink" href="#csv-format" title="Permanent link">&para;</a></h3>
<p>CSV files must include a header row with these columns:</p>
<p><strong>Expense CSV columns:</strong></p>
<ul>
<li><code>date</code> required: YYYY-MM-DD format</li>
<li><code>category</code> required: Category name</li>
<li><code>subcategory</code> optional: Subcategory name</li>
<li><code>amount</code> required: Decimal amount</li>
<li><code>account</code> required: Account name</li>
<li><code>notes</code> optional: Transaction notes</li>
<li><code>currency</code> optional: Currency code</li>
<li><code>currency_amount</code> optional: Foreign currency amount</li>
<li><code>exchange_rate</code> optional: Exchange rate to base currency</li>
</ul>
<p><strong>Income CSV columns:</strong></p>
<ul>
<li><code>date</code> required: YYYY-MM-DD format</li>
<li><code>name</code> required: Income name</li>
<li><code>amount</code> required: Decimal amount</li>
<li><code>account</code> required: Account name</li>
<li><code>notes</code> optional: Transaction notes</li>
<li><code>currency</code> optional: Currency code</li>
<li><code>currency_amount</code> optional: Foreign currency amount</li>
<li><code>exchange_rate</code> optional: Exchange rate to base currency</li>
</ul>
<p><strong>Transfer CSV columns:</strong></p>
<ul>
<li><code>date</code> required: YYYY-MM-DD format</li>
<li><code>from_account</code> required: Source account name</li>
<li><code>to_account</code> required: Destination account name</li>
<li><code>amount</code> optional: Destination amount Decimal</li>
<li><code>notes</code> optional: Transaction notes</li>
<li><code>currency</code> optional: Source Currency code</li>
<li><code>currency_amount</code> optional: Source currency amount</li>
<li><code>exchange_rate</code> optional: Exchange rate from currency -&gt; to currency</li>
</ul>
<p><strong>CSV example</strong> for expenses.csv:
<div class="highlight"><pre><span></span><code><a id="__codelineno-21-1" name="__codelineno-21-1" href="#__codelineno-21-1"></a>date,category,subcategory,amount,account,notes
<a id="__codelineno-21-2" name="__codelineno-21-2" href="#__codelineno-21-2"></a>2026-02-01,Food (Basic),Groceries,45.50,Wallet,Weekly groceries
<a id="__codelineno-21-3" name="__codelineno-21-3" href="#__codelineno-21-3"></a>2026-02-03,Transport,Fuel,60.00,Credit Card,Gas station
<a id="__codelineno-21-4" name="__codelineno-21-4" href="#__codelineno-21-4"></a>2026-02-05,Food (Basic),Cheap restaurant,15.75,Wallet,Lunch
</code></pre></div></p>
<h3 id="json-format">JSON format<a class="headerlink" href="#json-format" title="Permanent link">&para;</a></h3>
<p>JSON files must contain an array of transaction objects with the same fields as CSV columns.</p>
<p><strong>JSON example</strong> for income.json:
<div class="highlight"><pre><span></span><code><a id="__codelineno-22-1" name="__codelineno-22-1" href="#__codelineno-22-1"></a><span class="p">[</span>
<a id="__codelineno-22-2" name="__codelineno-22-2" href="#__codelineno-22-2"></a><span class="w">  </span><span class="p">{</span>
<a id="__codelineno-22-3" name="__codelineno-22-3" href="#__codelineno-22-3"></a><span class="w">    </span><span class="nt">&quot;date&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;2026-02-01&quot;</span><span class="p">,</span>
<a id="__codelineno-22-4" name="__codelineno-22-4" href="#__codelineno-22-4"></a><span class="w">    </span><span class="nt">&quot;name&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Salary&quot;</span><span class="p">,</span>
<a id="__codelineno-22-5" name="__codelineno-22-5" href="#__codelineno-22-5"></a><span class="w">    </span><span class="nt">&quot;amount&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;5000.00&quot;</span><span class="p">,</span>
<a id="__codelineno-22-6" name="__codelineno-22-6" href="#__codelineno-22-6"></a><span class="w">    </span><span class="nt">&quot;account&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Checking&quot;</span><span class="p">,</span>
<a id="__codelineno-22-7" name="__codelineno-22-7" href="#__codelineno-22-7"></a><span class="w">    </span><span class="nt">&quot;notes&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Monthly salary&quot;</span>
<a id="__codelineno-22-8" name="__codelineno-22-8" href="#__codelineno-22-8"></a><span class="w">  </span><span class="p">},</span>
<a id="__codelineno-22-9" name="__codelineno-22-9" href="#__codelineno-22-9"></a><span class="w">  </span><span class="p">{</span>
<a id="__codelineno-22-10" name="__codelineno-22-10" href="#__codelineno-22-10"></a><span class="w">    </span><span class="nt">&quot;date&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;2026-02-15&quot;</span><span class="p">,</span>
<a id="__codelineno-22-11" name="__codelineno-22-11" href="#__codelineno-22-11"></a><span class="w">    </span><span class="nt">&quot;name&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Freelance&quot;</span><span class="p">,</span>
<a id="__codelineno-22-12" name="__codelineno-22-12" href="#__codelineno-22-12"></a><span class="w">    </span><span class="nt">&quot;amount&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;1200.00&quot;</span><span class="p">,</span>
<a id="__codelineno-22-13" name="__codelineno-22-13" href="#__codelineno-22-13"></a><span class="w">    </span><span class="nt">&quot;account&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Checking&quot;</span><span class="p">,</span>
<a id="__codelineno-22-14" name="__codelineno-22-14" href="#__codelineno-22-14"></a><span class="w">    </span><span class="nt">&quot;notes&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Project payment&quot;</span>
<a id="__codelineno-22-15" name="__codelineno-22-15" href="#__codelineno-22-15"></a><span class="w">  </span><span class="p">}</span>
<a id="__codelineno-22-16" name="__codelineno-22-16" href="#__codelineno-22-16"></a><span class="p">]</span>
</code></pre></div></p>
<p><strong>Transfer batch with currency normalization</strong> - transfers_batch.json:
<div class="highlight"><pre><span></span><code><a id="__codelineno-23-1" name="__codelineno-23-1" href="#__codelineno-23-1"></a><span class="p">[</span>
<a id="__codelineno-23-2" name="__codelineno-23-2" href="#__codelineno-23-2"></a><span class="w">  </span><span class="p">{</span>
<a id="__codelineno-23-3" name="__codelineno-23-3" href="#__codelineno-23-3"></a><span class="w">    </span><span class="nt">&quot;date&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;2026-02-22&quot;</span><span class="p">,</span>
<a id="__codelineno-23-4" name="__codelineno-23-4" href="#__codelineno-23-4"></a><span class="w">    </span><span class="nt">&quot;from_account&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;TWH - Personal&quot;</span><span class="p">,</span>
<a id="__codelineno-23-5" name="__codelineno-23-5" href="#__codelineno-23-5"></a><span class="w">    </span><span class="nt">&quot;to_account&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;TWH IB USD&quot;</span><span class="p">,</span>
<a id="__codelineno-23-6" name="__codelineno-23-6" href="#__codelineno-23-6"></a><span class="w">    </span><span class="nt">&quot;amount&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;200.00&quot;</span><span class="p">,</span>
<a id="__codelineno-23-7" name="__codelineno-23-7" href="#__codelineno-23-7"></a><span class="w">    </span><span class="nt">&quot;notes&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;SGD-&gt;USD Amount Only (inferred)&quot;</span>
<a id="__codelineno-23-8" name="__codelineno-23-8" href="#__codelineno-23-8"></a><span class="w">  </span><span class="p">},</span>
<a id="__codelineno-23-9" name="__codelineno-23-9" href="#__codelineno-23-9"></a><span class="w">  </span><span class="p">{</span>
<a id="__codelineno-23-10" name="__codelineno-23-10" href="#__codelineno-23-10"></a><span class="w">    </span><span class="nt">&quot;date&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;2026-02-22&quot;</span><span class="p">,</span>
<a id="__codelineno-23-11" name="__codelineno-23-11" href="#__codelineno-23-11"></a><span class="w">    </span><span class="nt">&quot;from_account&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;TWH - Personal&quot;</span><span class="p">,</span>
<a id="__codelineno-23-12" name="__codelineno-23-12" href="#__codelineno-23-12"></a><span class="w">    </span><span class="nt">&quot;to_account&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;TWH IB USD&quot;</span><span class="p">,</span>
<a id="__codelineno-23-13" name="__codelineno-23-13" href="#__codelineno-23-13"></a><span class="w">    </span><span class="nt">&quot;currency&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;SGD&quot;</span><span class="p">,</span>
<a id="__codelineno-23-14" name="__codelineno-23-14" href="#__codelineno-23-14"></a><span class="w">    </span><span class="nt">&quot;currency_amount&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;250.00&quot;</span><span class="p">,</span>
<a id="__codelineno-23-15" name="__codelineno-23-15" href="#__codelineno-23-15"></a><span class="w">    </span><span class="nt">&quot;notes&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Explicit From Currency (SGD)&quot;</span>
<a id="__codelineno-23-16" name="__codelineno-23-16" href="#__codelineno-23-16"></a><span class="w">  </span><span class="p">},</span>
<a id="__codelineno-23-17" name="__codelineno-23-17" href="#__codelineno-23-17"></a><span class="w">  </span><span class="p">{</span>
<a id="__codelineno-23-18" name="__codelineno-23-18" href="#__codelineno-23-18"></a><span class="w">    </span><span class="nt">&quot;date&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;2026-02-22&quot;</span><span class="p">,</span>
<a id="__codelineno-23-19" name="__codelineno-23-19" href="#__codelineno-23-19"></a><span class="w">    </span><span class="nt">&quot;from_account&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;TWH - Personal&quot;</span><span class="p">,</span>
<a id="__codelineno-23-20" name="__codelineno-23-20" href="#__codelineno-23-20"></a><span class="w">    </span><span class="nt">&quot;to_account&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;TWH IB USD&quot;</span><span class="p">,</span>
<a id="__codelineno-23-21" name="__codelineno-23-21" href="#__codelineno-23-21"></a><span class="w">    </span><span class="nt">&quot;currency&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;USD&quot;</span><span class="p">,</span>
<a id="__codelineno-23-22" name="__codelineno-23-22" href="#__codelineno-23-22"></a><span class="w">    </span><span class="nt">&quot;currency_amount&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;100.00&quot;</span><span class="p">,</span>
<a id="__codelineno-23-23" name="__codelineno-23-23" href="#__codelineno-23-23"></a><span class="w">    </span><span class="nt">&quot;notes&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Explicit To Currency (USD) - normalized to backend format&quot;</span>
<a id="__codelineno-23-24" name="__codelineno-23-24" href="#__codelineno-23-24"></a><span class="w">  </span><span class="p">}</span>
<a id="__codelineno-23-25" name="__codelineno-23-25" href="#__codelineno-23-25"></a><span class="p">]</span>
</code></pre></div></p>
<p><strong>Note</strong>: Transfer batch imports support the currency normalization layer. You can specify <code>currency</code> + <code>currency_amount</code> for <strong>either</strong> the from_account <strong>or</strong> to_account. The system automatically normalizes to backend format (currency = from_account) during import.</p>
<h3 id="mixed-operation-json-format">Mixed operation JSON format<a class="headerlink" href="#mixed-operation-json-format" title="Permanent link">&para;</a></h3>
<p>Use this format to batch a mix of resources and CRUD operations in one file.</p>
<p>Each entry is a JSON object with these keys.</p>
<ul>
<li><code>resource</code> with values expense, income, or transfer</li>
<li><code>operation</code> with values add, update, or delete</li>
<li><code>parameters</code> with the same fields used by the single record CLI commands</li>
</ul>
<p>Example JSON for operations.json:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-24-1" name="__codelineno-24-1" href="#__codelineno-24-1"></a><span class="p">[</span>
<a id="__codelineno-24-2" name="__codelineno-24-2" href="#__codelineno-24-2"></a><span class="w">  </span><span class="p">{</span>
<a id="__codelineno-24-3" name="__codelineno-24-3" href="#__codelineno-24-3"></a><span class="w">    </span><span class="nt">&quot;resource&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;expense&quot;</span><span class="p">,</span>
<a id="__codelineno-24-4" name="__codelineno-24-4" href="#__codelineno-24-4"></a><span class="w">    </span><span class="nt">&quot;operation&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;add&quot;</span><span class="p">,</span>
<a id="__codelineno-24-5" name="__codelineno-24-5" href="#__codelineno-24-5"></a><span class="w">    </span><span class="nt">&quot;parameters&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-24-6" name="__codelineno-24-6" href="#__codelineno-24-6"></a><span class="w">      </span><span class="nt">&quot;date&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;2026-02-16&quot;</span><span class="p">,</span>
<a id="__codelineno-24-7" name="__codelineno-24-7" href="#__codelineno-24-7"></a><span class="w">      </span><span class="nt">&quot;category&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Dining&quot;</span><span class="p">,</span>
<a id="__codelineno-24-8" name="__codelineno-24-8" href="#__codelineno-24-8"></a><span class="w">      </span><span class="nt">&quot;subcategory&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Restaurant&quot;</span><span class="p">,</span>
<a id="__codelineno-24-9" name="__codelineno-24-9" href="#__codelineno-24-9"></a><span class="w">      </span><span class="nt">&quot;amount&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;25.50&quot;</span><span class="p">,</span>
<a id="__codelineno-24-10" name="__codelineno-24-10" href="#__codelineno-24-10"></a><span class="w">      </span><span class="nt">&quot;account&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Wallet&quot;</span><span class="p">,</span>
<a id="__codelineno-24-11" name="__codelineno-24-11" href="#__codelineno-24-11"></a><span class="w">      </span><span class="nt">&quot;notes&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Lunch&quot;</span>
<a id="__codelineno-24-12" name="__codelineno-24-12" href="#__codelineno-24-12"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-24-13" name="__codelineno-24-13" href="#__codelineno-24-13"></a><span class="w">  </span><span class="p">},</span>
<a id="__codelineno-24-14" name="__codelineno-24-14" href="#__codelineno-24-14"></a><span class="w">  </span><span class="p">{</span>
<a id="__codelineno-24-15" name="__codelineno-24-15" href="#__codelineno-24-15"></a><span class="w">    </span><span class="nt">&quot;resource&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;income&quot;</span><span class="p">,</span>
<a id="__codelineno-24-16" name="__codelineno-24-16" href="#__codelineno-24-16"></a><span class="w">    </span><span class="nt">&quot;operation&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;update&quot;</span><span class="p">,</span>
<a id="__codelineno-24-17" name="__codelineno-24-17" href="#__codelineno-24-17"></a><span class="w">    </span><span class="nt">&quot;parameters&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-24-18" name="__codelineno-24-18" href="#__codelineno-24-18"></a><span class="w">      </span><span class="nt">&quot;key&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">14021</span><span class="p">,</span>
<a id="__codelineno-24-19" name="__codelineno-24-19" href="#__codelineno-24-19"></a><span class="w">      </span><span class="nt">&quot;notes&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Updated notes&quot;</span>
<a id="__codelineno-24-20" name="__codelineno-24-20" href="#__codelineno-24-20"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-24-21" name="__codelineno-24-21" href="#__codelineno-24-21"></a><span class="w">  </span><span class="p">},</span>
<a id="__codelineno-24-22" name="__codelineno-24-22" href="#__codelineno-24-22"></a><span class="w">  </span><span class="p">{</span>
<a id="__codelineno-24-23" name="__codelineno-24-23" href="#__codelineno-24-23"></a><span class="w">    </span><span class="nt">&quot;resource&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;transfer&quot;</span><span class="p">,</span>
<a id="__codelineno-24-24" name="__codelineno-24-24" href="#__codelineno-24-24"></a><span class="w">    </span><span class="nt">&quot;operation&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;delete&quot;</span><span class="p">,</span>
<a id="__codelineno-24-25" name="__codelineno-24-25" href="#__codelineno-24-25"></a><span class="w">    </span><span class="nt">&quot;parameters&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-24-26" name="__codelineno-24-26" href="#__codelineno-24-26"></a><span class="w">      </span><span class="nt">&quot;key&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">21007</span>
<a id="__codelineno-24-27" name="__codelineno-24-27" href="#__codelineno-24-27"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-24-28" name="__codelineno-24-28" href="#__codelineno-24-28"></a><span class="w">  </span><span class="p">}</span>
<a id="__codelineno-24-29" name="__codelineno-24-29" href="#__codelineno-24-29"></a><span class="p">]</span>
</code></pre></div>
<h3 id="methods-usage">Methods usage<a class="headerlink" href="#methods-usage" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><a id="__codelineno-25-1" name="__codelineno-25-1" href="#__codelineno-25-1"></a><span class="kn">from</span><span class="w"> </span><span class="nn">homebudget</span><span class="w"> </span><span class="kn">import</span> <span class="n">HomeBudgetClient</span>
<a id="__codelineno-25-2" name="__codelineno-25-2" href="#__codelineno-25-2"></a><span class="kn">from</span><span class="w"> </span><span class="nn">homebudget.models</span><span class="w"> </span><span class="kn">import</span> <span class="n">ExpenseDTO</span>
<a id="__codelineno-25-3" name="__codelineno-25-3" href="#__codelineno-25-3"></a><span class="kn">from</span><span class="w"> </span><span class="nn">decimal</span><span class="w"> </span><span class="kn">import</span> <span class="n">Decimal</span>
<a id="__codelineno-25-4" name="__codelineno-25-4" href="#__codelineno-25-4"></a><span class="kn">import</span><span class="w"> </span><span class="nn">datetime</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">dt</span>
<a id="__codelineno-25-5" name="__codelineno-25-5" href="#__codelineno-25-5"></a>
<a id="__codelineno-25-6" name="__codelineno-25-6" href="#__codelineno-25-6"></a><span class="k">with</span> <span class="n">HomeBudgetClient</span><span class="p">()</span> <span class="k">as</span> <span class="n">client</span><span class="p">:</span>
<a id="__codelineno-25-7" name="__codelineno-25-7" href="#__codelineno-25-7"></a>    <span class="n">expenses</span> <span class="o">=</span> <span class="p">[</span>
<a id="__codelineno-25-8" name="__codelineno-25-8" href="#__codelineno-25-8"></a>        <span class="n">ExpenseDTO</span><span class="p">(</span>
<a id="__codelineno-25-9" name="__codelineno-25-9" href="#__codelineno-25-9"></a>            <span class="n">date</span><span class="o">=</span><span class="n">dt</span><span class="o">.</span><span class="n">date</span><span class="p">(</span><span class="mi">2026</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span>
<a id="__codelineno-25-10" name="__codelineno-25-10" href="#__codelineno-25-10"></a>            <span class="n">category</span><span class="o">=</span><span class="s2">&quot;Food (Basic)&quot;</span><span class="p">,</span>
<a id="__codelineno-25-11" name="__codelineno-25-11" href="#__codelineno-25-11"></a>            <span class="n">subcategory</span><span class="o">=</span><span class="s2">&quot;Groceries&quot;</span><span class="p">,</span>
<a id="__codelineno-25-12" name="__codelineno-25-12" href="#__codelineno-25-12"></a>            <span class="n">amount</span><span class="o">=</span><span class="n">Decimal</span><span class="p">(</span><span class="s2">&quot;45.50&quot;</span><span class="p">),</span>
<a id="__codelineno-25-13" name="__codelineno-25-13" href="#__codelineno-25-13"></a>            <span class="n">account</span><span class="o">=</span><span class="s2">&quot;Wallet&quot;</span><span class="p">,</span>
<a id="__codelineno-25-14" name="__codelineno-25-14" href="#__codelineno-25-14"></a>            <span class="n">notes</span><span class="o">=</span><span class="s2">&quot;Weekly groceries&quot;</span>
<a id="__codelineno-25-15" name="__codelineno-25-15" href="#__codelineno-25-15"></a>        <span class="p">),</span>
<a id="__codelineno-25-16" name="__codelineno-25-16" href="#__codelineno-25-16"></a>        <span class="n">ExpenseDTO</span><span class="p">(</span>
<a id="__codelineno-25-17" name="__codelineno-25-17" href="#__codelineno-25-17"></a>            <span class="n">date</span><span class="o">=</span><span class="n">dt</span><span class="o">.</span><span class="n">date</span><span class="p">(</span><span class="mi">2026</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">),</span>
<a id="__codelineno-25-18" name="__codelineno-25-18" href="#__codelineno-25-18"></a>            <span class="n">category</span><span class="o">=</span><span class="s2">&quot;Transport&quot;</span><span class="p">,</span>
<a id="__codelineno-25-19" name="__codelineno-25-19" href="#__codelineno-25-19"></a>            <span class="n">subcategory</span><span class="o">=</span><span class="s2">&quot;Fuel&quot;</span><span class="p">,</span>
<a id="__codelineno-25-20" name="__codelineno-25-20" href="#__codelineno-25-20"></a>            <span class="n">amount</span><span class="o">=</span><span class="n">Decimal</span><span class="p">(</span><span class="s2">&quot;60.00&quot;</span><span class="p">),</span>
<a id="__codelineno-25-21" name="__codelineno-25-21" href="#__codelineno-25-21"></a>            <span class="n">account</span><span class="o">=</span><span class="s2">&quot;Credit Card&quot;</span><span class="p">,</span>
<a id="__codelineno-25-22" name="__codelineno-25-22" href="#__codelineno-25-22"></a>            <span class="n">notes</span><span class="o">=</span><span class="s2">&quot;Gas station&quot;</span>
<a id="__codelineno-25-23" name="__codelineno-25-23" href="#__codelineno-25-23"></a>        <span class="p">)</span>
<a id="__codelineno-25-24" name="__codelineno-25-24" href="#__codelineno-25-24"></a>    <span class="p">]</span>
<a id="__codelineno-25-25" name="__codelineno-25-25" href="#__codelineno-25-25"></a>
<a id="__codelineno-25-26" name="__codelineno-25-26" href="#__codelineno-25-26"></a>    <span class="n">result</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="n">add_expenses_batch</span><span class="p">(</span><span class="n">expenses</span><span class="p">)</span>
<a id="__codelineno-25-27" name="__codelineno-25-27" href="#__codelineno-25-27"></a>    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Successful: </span><span class="si">{</span><span class="nb">len</span><span class="p">(</span><span class="n">result</span><span class="o">.</span><span class="n">successful</span><span class="p">)</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
<a id="__codelineno-25-28" name="__codelineno-25-28" href="#__codelineno-25-28"></a>    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Failed: </span><span class="si">{</span><span class="nb">len</span><span class="p">(</span><span class="n">result</span><span class="o">.</span><span class="n">failed</span><span class="p">)</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
<a id="__codelineno-25-29" name="__codelineno-25-29" href="#__codelineno-25-29"></a>    <span class="k">for</span> <span class="n">dto</span><span class="p">,</span> <span class="n">error</span> <span class="ow">in</span> <span class="n">result</span><span class="o">.</span><span class="n">failed</span><span class="p">:</span>
<a id="__codelineno-25-30" name="__codelineno-25-30" href="#__codelineno-25-30"></a>        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;  Failed: </span><span class="si">{</span><span class="n">dto</span><span class="o">.</span><span class="n">date</span><span class="si">}</span><span class="s2"> </span><span class="si">{</span><span class="n">dto</span><span class="o">.</span><span class="n">amount</span><span class="si">}</span><span class="s2"> - </span><span class="si">{</span><span class="n">error</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</code></pre></div>
<h3 id="cli-usage">CLI usage<a class="headerlink" href="#cli-usage" title="Permanent link">&para;</a></h3>
<p><strong>Import expenses from CSV:</strong>
<div class="highlight"><pre><span></span><code><a id="__codelineno-26-1" name="__codelineno-26-1" href="#__codelineno-26-1"></a>homebudget<span class="w"> </span>expense<span class="w"> </span>batch-import<span class="w"> </span>--file<span class="w"> </span>expenses.csv<span class="w"> </span>--format<span class="w"> </span>csv
</code></pre></div></p>
<p><strong>Import income from JSON:</strong>
<div class="highlight"><pre><span></span><code><a id="__codelineno-27-1" name="__codelineno-27-1" href="#__codelineno-27-1"></a>homebudget<span class="w"> </span>income<span class="w"> </span>batch-import<span class="w"> </span>--file<span class="w"> </span>income.json<span class="w"> </span>--format<span class="w"> </span>json
</code></pre></div></p>
<p><strong>Import with error report:</strong>
<div class="highlight"><pre><span></span><code><a id="__codelineno-28-1" name="__codelineno-28-1" href="#__codelineno-28-1"></a>homebudget<span class="w"> </span>expense<span class="w"> </span>batch-import<span class="w"> </span>--file<span class="w"> </span>expenses.csv<span class="w"> </span>--format<span class="w"> </span>csv<span class="w"> </span>--error-report<span class="w"> </span>errors.txt
</code></pre></div></p>
<p><strong>Stop on first error:</strong>
<div class="highlight"><pre><span></span><code><a id="__codelineno-29-1" name="__codelineno-29-1" href="#__codelineno-29-1"></a>homebudget<span class="w"> </span>transfer<span class="w"> </span>batch-import<span class="w"> </span>--file<span class="w"> </span>transfers.csv<span class="w"> </span>--format<span class="w"> </span>csv<span class="w"> </span>--stop-on-error
</code></pre></div></p>
<p><strong>Run mixed batch operations:</strong>
<div class="highlight"><pre><span></span><code><a id="__codelineno-30-1" name="__codelineno-30-1" href="#__codelineno-30-1"></a>homebudget<span class="w"> </span>batch<span class="w"> </span>run<span class="w"> </span>--file<span class="w"> </span>operations.json
</code></pre></div></p>
<p><strong>Run mixed batch with stop-on-error:</strong>
<div class="highlight"><pre><span></span><code><a id="__codelineno-31-1" name="__codelineno-31-1" href="#__codelineno-31-1"></a>homebudget<span class="w"> </span>batch<span class="w"> </span>run<span class="w"> </span>--file<span class="w"> </span>operations.json<span class="w"> </span>--stop-on-error
</code></pre></div></p>
<p><strong>Run mixed batch with error report:</strong>
<div class="highlight"><pre><span></span><code><a id="__codelineno-32-1" name="__codelineno-32-1" href="#__codelineno-32-1"></a>homebudget<span class="w"> </span>batch<span class="w"> </span>run<span class="w"> </span>--file<span class="w"> </span>operations.json<span class="w"> </span>--error-report<span class="w"> </span>batch_errors.json
</code></pre></div></p>
<h3 id="batch-result-output">Batch result output<a class="headerlink" href="#batch-result-output" title="Permanent link">&para;</a></h3>
<p>The CLI displays a summary of batch results:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-33-1" name="__codelineno-33-1" href="#__codelineno-33-1"></a>Batch import completed
<a id="__codelineno-33-2" name="__codelineno-33-2" href="#__codelineno-33-2"></a>=====================
<a id="__codelineno-33-3" name="__codelineno-33-3" href="#__codelineno-33-3"></a>Total records: 25
<a id="__codelineno-33-4" name="__codelineno-33-4" href="#__codelineno-33-4"></a>Successful: 23
<a id="__codelineno-33-5" name="__codelineno-33-5" href="#__codelineno-33-5"></a>Failed: 2
<a id="__codelineno-33-6" name="__codelineno-33-6" href="#__codelineno-33-6"></a>
<a id="__codelineno-33-7" name="__codelineno-33-7" href="#__codelineno-33-7"></a>Failed records:
<a id="__codelineno-33-8" name="__codelineno-33-8" href="#__codelineno-33-8"></a>  Row 15: 2026-02-10 45.50 - DuplicateError: Matching expense already exists
<a id="__codelineno-33-9" name="__codelineno-33-9" href="#__codelineno-33-9"></a>  Row 22: 2026-02-18 invalid - ValueError: Invalid amount format
<a id="__codelineno-33-10" name="__codelineno-33-10" href="#__codelineno-33-10"></a>
<a id="__codelineno-33-11" name="__codelineno-33-11" href="#__codelineno-33-11"></a>Sync completed for 23 transactions
</code></pre></div>
<p>If <code>--error-report</code> is specified, failed records are written to the file with details.</p>
<h2 id="troubleshooting">Troubleshooting<a class="headerlink" href="#troubleshooting" title="Permanent link">&para;</a></h2>
<ul>
<li>The setup script fails to install a dependency. Check requirements.txt and confirm the package source.</li>
<li>The CLI reports a database error. Confirm the database file path is correct and that the file is not locked.</li>
<li>Sync does not update the mobile app. Confirm sync is enabled and that DeviceInfo is present in the database.</li>
<li>A duplicate error appears. Review existing transactions for matching date, account, amount, category, and notes.</li>
<li>A command fails with a foreign currency error. Confirm the transaction currency matches the account currency.</li>
<li>The Python version is too old. Install Python 3.10 or later and recreate the env directory.</li>
<li>The SQLite version is too old. Use a Python build that includes SQLite 3.35 or later.</li>
</ul>












                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
          <button type="button" class="md-top md-icon" data-md-component="top" hidden>
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8z"/></svg>
  Back to top
</button>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
    <div class="md-copyright__highlight">
      Copyright &copy; 2026 HomeBudget Python Wrapper | Version 2.1.0
    </div>
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    
      
      
      <script id="__config" type="application/json">{"annotate": null, "base": "..", "features": ["navigation.tabs", "navigation.tabs.sticky", "navigation.sections", "navigation.expand", "navigation.path", "navigation.top", "search.suggest", "search.highlight", "content.code.copy", "toc.follow"], "search": "../assets/javascripts/workers/search.2c215733.min.js", "tags": null, "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": "2.1.0"}</script>
    
    
      <script src="../assets/javascripts/bundle.79ae519e.min.js"></script>
      
    
  </body>
</html>